import{l as i}from"./logofinal.a5a4acce.js";import{l as r}from"./logo-ceindetec-circle.21fd0216.js";import{b as l}from"./computer3.c302f3b5.js";import{S as o}from"./SpinnerComponent.6d0b39d4.js";import{n}from"./_plugin-vue2_normalizer.358ffe07.js";const c={name:"Register",props:["errors"],components:{SpinnerComponent:o},data:()=>({logoFinal:i,overlay:!1,bg:l,logo:r,show:null,valid:!0,isValid:!0,form:{identification:null,email:"",password:"",remember:null},rules:{required:a=>!!a||"Campo requerido.",max:a=>a.length<=20||"M\xE1ximo 20 caracteres",min:(a,e)=>a.length>=e||`M\xEDnimo ${e} caracteres`,email:a=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)||"Direcci\xF3n de correo invalida.",phone:a=>/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/.test(a)||"Numero telef\xF3nico invalido.",text:(a,e)=>/[a-zA-Z ]{2,254}/.test(a)||`Entrada incorrecta para el campo ${e}.`,number:a=>/^\d+$/.test(a)||"Solo caracteres num\xE9ricos."},messageErrors:[],establishments:[],establishment_id:-1,headquarters:[],headquarter_id:-1}),created(){axios.get("/dashboard/establishment/all").then(a=>{console.log(a.data),this.establishments=a.data}),this.establishment_id>-1&&(this.person.establishment_id=this.establishment_id,this.$nextTick(()=>{this.getAllHeadquarters(),this.person.headquarter_id=this.headquarter_id}))},methods:{getAllHeadquarters(){let a=this.establishment_id;a!==null&&axios.get(`/dashboard/establishment/${a}/headquarters`).then(e=>{this.headquarters=e.data}).catch(e=>{console.log(e)})},updateValidation(){this.isValid=!0},submit(){this.$refs.form.validate()&&this.login()},validate(){this.$refs.form.validate()},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()},login(){console.log(this.form),this.overlay=!0,axios.post("/login",this.form).then(a=>{this.color="green",this.mode="",this.text="Informaci\xF3n correcta \u{1F600}, Bienvenido! ",console.log("response",a);try{this.overlay=!1,this.$inertia.get("/dashboard"),this.$swal("Bienvenido!","\xA1Has iniciado sesi\xF3n correctamente!","success")}catch(e){this.overlay=!1,console.log(e)}}).catch(a=>{this.mode="",this.color="red darken-3";const e=a.response.data.errors;this.messageErrors=a.response.data.errors,this.overlay=!1,console.log(`soy un array ${e}`),this.text="";for(var t in e)this.text+=t+": "+e[t]+`
 `;this.text+=a.response.data.message,this.$swal("\xA1Algo sali\xF3 mal! \u{1F625}",this.text,"error")})},getErrors(a){try{return this.isValid=!1,this.messageErrors[a]}catch{}}}};var d=function(){var e=this,t=e._self._c;return t("v-app",[t("v-row",{staticClass:"my-0 py-0"},[t("v-col",{staticClass:"d-none d-md-flex primary align-center justify-center col-12 col-md-6 col-lg-7 col-xl-6 my-0 py-0"},[t("v-row",{staticClass:"fill-height"},[t("v-col",{staticClass:"transparent d-md-flex align-center justify-center"},[t("v-container",[t("div",{staticClass:"pa-10"},[t("v-row",{staticClass:"justify-center"},[t("v-col",{staticClass:"col-xl-5 col-8"},[t("div",[t("h2",{staticClass:"display-1 white--text font-weight-medium"},[t("v-img",{attrs:{src:e.logoFinal}})],1),t("h6",{staticClass:"subtitle-1 mt-4 white--text op-5 font-weight-regular text-justify"},[e._v(" El Sistema para la Gesti\xF3n Acad\xE9mica (SIGAC) surge como una soluci\xF3n de software desarrollado por Ceindetec, para agilizar los procesos inherentes a las instituciones educativas. Con esta aplicaci\xF3n se pueden llevar a cabo procesos administrativos, que redundan en la centralizaci\xF3n de la informaci\xF3n de cada uno de los estudiantes de la instituci\xF3n. ")]),t("inertia-link",{attrs:{href:"/about-us"}},[t("v-btn",{staticClass:"mt-4 text-capitalize white--text",attrs:{depressed:"",outlined:"","x-large":""}},[e._v(" Saber m\xE1s ")])],1)],1)])],1)],1)])],1)],1)],1),t("v-divider"),t("v-col",{staticClass:"d-flex align-center col-12 col-md-6 col-lg-5 col-xl-6"},[t("v-container",{staticClass:"container"},[t("div",{staticClass:"pa-7 pa-sm-12"},[t("v-row",{},[t("v-col",{staticClass:"col-lg-9 col-xl-6 col-12"},[t("div",{staticClass:"d-flex align-center text-decoration-none mr-2 router-link-exact-active router-link-active",attrs:{"aria-current":"page"}},[t("inertia-link",{attrs:{href:e.route("home")}},[t("v-avatar",{attrs:{color:"white",size:"90"}},[t("v-img",{attrs:{cover:"",src:e.logo,alt:"logo"}})],1)],1)],1),t("h2",{staticClass:"font-weight-bold mt-4 blue-grey--text text--darken-2"},[e._v(" Activar usuario ")]),t("h6",{staticClass:"subtitle-2 text-justify mb-2"},[e._v(" En este apartado ingresaras los datos con los cuales la persona fue registrada en el sistema. En caso de no conocer los datos informar al docente administrador o colocarse en contacto con soporte "),t("inertia-link",{attrs:{href:"/contact-us"}},[e._v("aqu\xED.")])],1),t("h6",{staticClass:"subtitle-2 grey--text lighten-5 mb-2"},[e._v(" \xBFYa tienes cuenta? "),t("inertia-link",{attrs:{href:"/login"}},[e._v(" Inicia sesi\xF3n ")])],1),t("v-form",{ref:"form",attrs:{novalidate:"novalidate"},on:{submit:function(s){return s.preventDefault(),e.login.apply(null,arguments)}},model:{value:e.valid,callback:function(s){e.valid=s},expression:"valid"}},[e.getErrors("email")?t("v-alert",{attrs:{text:"",prominent:"",type:"error",icon:"mdi-alert",dismissible:""}},[e._v(" "+e._s(this.text)+" ")]):e._e(),t("v-text-field",{attrs:{label:"Numero de identificaci\xF3n",rules:[e.rules.required,e.rules.number],clearable:"",outlined:""},model:{value:e.form.identification,callback:function(s){e.$set(e.form,"identification",s)},expression:"form.identification"}}),t("v-text-field",{attrs:{label:"E-mail",clearable:"",outlined:"",rules:[e.rules.email,e.rules.required]},on:{change:function(s){e.isValid=!0}},model:{value:e.form.email,callback:function(s){e.$set(e.form,"email",s)},expression:"form.email"}}),t("v-autocomplete",{attrs:{rules:[e.rules.required,e.rules.text(e.form.establishment_id,"Establesimineto")],items:e.establishments,"item-text":"name","item-value":"id",label:"Establecimiento al que pertenece",outlined:""},on:{change:e.getAllHeadquarters},model:{value:e.establishment_id,callback:function(s){e.establishment_id=s},expression:"establishment_id"}}),t("v-autocomplete",{attrs:{disabled:e.establishment_id===null||e.establishment_id==="",rules:[e.rules.required,e.rules.text(e.form.headquarter_id,"Sede")],items:e.headquarters,"item-text":"name","item-value":"id",label:"Sede a la que pertenece",outlined:""},model:{value:e.headquarter_id,callback:function(s){e.headquarter_id=s},expression:"headquarter_id"}}),t("v-btn",{staticClass:"mr-4 mb-4 primary",attrs:{block:"",contained:"",disabled:!e.valid},on:{click:e.submit}},[e._v(" Activar usuario ")])],1)],1)],1)],1)])],1)],1),t("spinner-component",{attrs:{value:e.overlay,color:"primary",opacity:.9}})],1)},m=[],u=n(c,d,m,!1,null,"f6bed773",null,null);const b=u.exports;export{b as default};
