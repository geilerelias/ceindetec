import{A as i}from"./AppLayout.6bdcf6d9.js";import{B as a}from"./BreadCrumbs.14245490.js";import{n as l}from"./_plugin-vue2_normalizer.358ffe07.js";import"./Footer.38fe6699.js";import"./app.5491753d.js";import"./logo-ceindetec.0997e866.js";import"./Logo.5a18e3f9.js";import"./SettingsDropdown.da80baee.js";const m={components:{BreadCrumbs:a,AppLayout:i},props:["incomeExpense"],data(){return{form:this.$inertia.form({line:null,description:"",amount:0,type:null,date:null,file_path:null}),typeOptions:[{title:"Ingreso",value:"income"},{title:"Egreso",value:"expense"}],lines:[{name:"Conectividad",icon:"mdi-radio-tower"},{name:"Paneles Solares",icon:"mdi-solar-power-variant "},{name:"Hidropaneles",icon:"mdi-solar-panel"}],links:[{text:"Dashboard",disabled:!1,href:"/dashboard"},{text:"IncomeExpense",disabled:!1,href:"/incomes-expenses"},{text:"Edit",disabled:!0,href:""}],menu2:!1}},mounted(){this.form=this.$inertia.form(this.incomeExpense)},methods:{formatAmount(){this.form.amount=numeral(this.form.amount).format("$0,0")},submitForm(){try{console.log(this.form.file_path),console.log(this.form),this.form.amount=this.form.amount.replace(/[$,.]/g,"").replace(/peso/gi,""),this.form.put(route("incomes-expenses.update",this.form.id),this.form,{forceFormData:!0,onSuccess:r=>{console.log(r),this.$swal("Buen trabajo",r.props.flash.message,"success"),this.$inertia.visit(route("incomes-expenses.index"))},onError:r=>{console.log("errors",r);let e=Object.values(r).join("<br>");this.$swal({icon:"error",title:"Ups...",html:e})}})}catch(r){console.log(r)}}}};var c=function(){var e=this,o=e._self._c;return o("app-layout",[o("bread-crumbs",{attrs:{items:e.links,name:"Crear Movimiento"}}),o("v-container",[o("v-row",[o("v-col",{staticClass:"mx-auto col-md-10 cols-12"},[o("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[o("v-card",{staticClass:"pa-4"},[o("v-card-title",{staticClass:"text-h5"},[o("v-icon",{attrs:{left:!0}},[e._v(" mdi-pencil-box-multiple-outline ")]),e._v(" Ingresos o egresos ")],1),o("v-divider"),o("v-card-text",[o("v-autocomplete",{attrs:{"error-messages":e.form.errors.line,items:e.lines,label:"Linea a la cual pertenece la operaci\xF3n",outlined:"","item-text":"name","item-value":"name"},on:{blur:function(t){return e.form.clearErrors("line")}},scopedSlots:e._u([{key:"item",fn:function(t){return[typeof t.item!="object"?[o("v-list-item-content",{domProps:{textContent:e._s(t.item)}})]:[o("v-list-item-avatar",[o("v-icon",[e._v(" "+e._s(t.item.icon)+" ")])],1),o("v-list-item-title",{domProps:{innerHTML:e._s(t.item.name)}})]]}}]),model:{value:e.form.line,callback:function(t){e.$set(e.form,"line",typeof t=="string"?t.trim():t)},expression:"form.line"}}),o("v-textarea",{attrs:{"error-messages":e.form.errors.description,label:"Descripci\xF3n de la operaci\xF3n",outlined:""},on:{blur:function(t){return e.form.clearErrors("description")}},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",typeof t=="string"?t.trim():t)},expression:"form.description"}}),o("v-text-field",{attrs:{"error-messages":e.form.errors.amount,label:"Monto",outlined:""},on:{blur:function(t){return e.form.clearErrors("amount")},input:e.formatAmount},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",e._n(typeof t=="string"?t.trim():t))},expression:"form.amount"}}),o("v-select",{attrs:{"error-messages":e.form.errors.type,items:e.typeOptions,"item-text":"title","item-value":"value",label:"Tipo de operaci\xF3n",outlined:""},on:{blur:function(t){return e.form.clearErrors("type")}},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}}),o("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,"min-width":"auto","offset-y":"",transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:t,attrs:s}){return[o("v-text-field",e._g(e._b({attrs:{"error-messages":e.form.errors.date,label:"Fecha del ingreso o egreso",outlined:"","prepend-icon":"mdi-calendar",readonly:""},on:{blur:function(n){return e.form.clearErrors("date")}},model:{value:e.form.date,callback:function(n){e.$set(e.form,"date",n)},expression:"form.date"}},"v-text-field",s,!1),t))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[o("v-date-picker",{attrs:{label:"Fecha",locale:"es-Co",outlined:"",required:""},on:{input:function(t){e.menu2=!1}},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),o("v-file-input",{attrs:{label:"Archivo de soporte",outlined:""},model:{value:e.form.file_path,callback:function(t){e.$set(e.form,"file_path",t)},expression:"form.file_path"}})],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{loading:e.form.processing,color:"primary",type:"submit"}},[e._v(" Actualizar ")]),o("v-btn",{attrs:{loading:e.form.processing,color:"secondary"},on:{click:function(t){e.$inertia.visit(e.route("incomes-expenses.index"))}}},[e._v(" Cancelar ")])],1)],1)],1)])],1)],1)],1)},u=[],f=l(m,c,u,!1,null,null,null,null);const y=f.exports;export{y as default};
