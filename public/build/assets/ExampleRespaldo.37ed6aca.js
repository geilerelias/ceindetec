import{A as i}from"./AppLayout.6bdcf6d9.js";import{n as c}from"./_plugin-vue2_normalizer.358ffe07.js";import"./Footer.38fe6699.js";import"./app.5491753d.js";import"./logo-ceindetec.0997e866.js";import"./Logo.5a18e3f9.js";import"./SettingsDropdown.da80baee.js";const m={components:{appLayout:i},data(){return{headers:[{text:"",value:"check-box",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Edad",value:"edad"},{text:"Email",value:"email"}],clases:[{id:1,nombre:"Matem\xE1ticas I",docente:"Mar\xEDa P\xE9rez",estudiantes:[{id:1,nombre:"Juan Gonz\xE1lez",edad:23,email:"juan@gmail.com",selected:!1},{id:2,nombre:"Ana L\xF3pez",edad:21,email:"ana@gmail.com",selected:!1},{id:3,nombre:"Pedro Mart\xEDnez",edad:24,email:"pedro@gmail.com",selected:!1}],selected:!1},{id:2,nombre:"Historia Universal",docente:"Carlos G\xF3mez",estudiantes:[{id:4,nombre:"Mar\xEDa Hern\xE1ndez",edad:25,email:"maria@gmail.com",selected:!1},{id:5,nombre:"Andrea Torres",edad:22,email:"andrea@gmail.com",selected:!1}],selected:!1},{id:3,nombre:"F\xEDsica II",docente:"Juan P\xE9rez",estudiantes:[{id:6,nombre:"Luis Garc\xEDa",edad:20,email:"luis@gmail.com",selected:!1},{id:7,nombre:"Pablo Ram\xEDrez",edad:22,email:"pablo@gmail.com",selected:!1},{id:8,nombre:"Luc\xEDa Fern\xE1ndez",edad:23,email:"lucia@gmail.com",selected:!1}],selected:!1}],progress:0}},methods:{onRowClick(t){t.selected=!t.selected},respaldar(){const t=this.clases.filter(s=>s.selected);if(t.length===0){this.$toast.error("Selecciona al menos una clase para respaldar");return}const a=t.reduce((s,r)=>s+r.estudiantes.filter(n=>n.selected).length,0);let e=0;this.progress=0;const l=setInterval(()=>{if(e>=a){clearInterval(l),this.$toast.success(`Se respaldaron ${e} items`),this.progress=0;return}const s=e/a*100;this.progress=s;const r=t.find(o=>o.estudiantes.some(d=>d.selected)),n=r.estudiantes.find(o=>o.selected);this.simularRespaldarItem(r,n),n.selected=!1,e++},1e3)},simularRespaldarItem(t,a){console.log(`Se respald\xF3 el estudiante ${a.nombre} de la clase ${t.nombre}`)}}};var p=function(){var a=this,e=a._self._c;return e("app-layout",[e("v-toolbar",[e("v-toolbar-title",[a._v(" Respaldo de informaci\xF3n ")])],1),e("v-container",[e("v-card",{attrs:{flat:""}},[e("v-card-title"),e("v-card-text",[e("v-expansion-panels",a._l(a.clases,function(l){return e("v-expansion-panel",{key:l.id},[e("v-expansion-panel-header",[e("v-checkbox",{model:{value:l.selected,callback:function(s){a.$set(l,"selected",s)},expression:"clase.selected"}}),e("div",[a._v(a._s(l.nombre))]),e("div",{staticClass:"grey--text"},[a._v(a._s(l.docente))])],1),e("v-expansion-panel-content",[e("v-data-table",{attrs:{headers:a.headers,items:l.estudiantes,selected:l.estudiantes.filter(s=>s.selected),"item-key":"id"},on:{"click:row":a.onRowClick},scopedSlots:a._u([{key:"item.check-box",fn:function({item:s}){return[e("v-checkbox",{model:{value:s.selected,callback:function(r){a.$set(s,"selected",r)},expression:"item.selected"}})]}}],null,!0)})],1)],1)}),1)],1),e("v-card-actions",[e("v-btn",{attrs:{color:"primary"},on:{click:a.respaldar}},[a._v("Respaldar")]),a.progress>0?e("v-progress-linear",{attrs:{height:10,value:a.progress}}):a._e()],1)],1)],1)],1)},u=[],v=c(m,p,u,!1,null,null,null,null);const z=v.exports;export{z as default};
