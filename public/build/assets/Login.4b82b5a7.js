import{l as a}from"./logofinal.a5a4acce.js";import{l as o}from"./logo-ceindetec-circle.21fd0216.js";import{b as i}from"./computer3.c302f3b5.js";import{S as l}from"./SpinnerComponent.6d0b39d4.js";import{a as n}from"./AuthLayout.8d5f6f6d.js";import{n as m}from"./_plugin-vue2_normalizer.358ffe07.js";const c={name:"Register",props:["errors"],components:{AuthLayout:n,SpinnerComponent:l},data:()=>({logoFinal:a,overlay:!1,bg:i,logo:o,show:null,valid:!0,isValid:!0,form:{email:"",password:"",remember:null},emailRules:{required:r=>!!r||"E-mail is required",valid:r=>/.+@.+\..+/.test(r)||"E-mail must be valid"},passwordRules:{required:r=>!!r||"Required.",min:r=>r.length>=8||"Min 8 characters"},messageErrors:[]}),methods:{updateValidation(){this.isValid=!0},submit(){this.$refs.form.validate()&&this.login()},validate(){this.$refs.form.validate()},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()},login(){console.log(this.form),this.overlay=!0,axios.post("/login",this.form).then(r=>{this.color="green",this.mode="",this.text="Informaci\xF3n correcta \u{1F600}, Bienvenido! ",console.log("response",r);try{this.overlay=!1,this.$inertia.get("/dashboard"),this.$swal("Bienvenido!","\xA1Has iniciado sesi\xF3n correctamente!","success")}catch(e){this.overlay=!1,console.log(e)}}).catch(r=>{this.mode="",this.color="red darken-3";const e=r.response.data.errors;this.messageErrors=r.response.data.errors,this.overlay=!1,console.log(`soy un array ${e}`),this.text="";for(var t in e)this.text+=t+": "+e[t]+`
 `;this.text+=r.response.data.message,this.$swal("\xA1Algo sali\xF3 mal! \u{1F625}",this.text,"error")})},getErrors(r){try{return this.isValid=!1,this.messageErrors[r]}catch{}}}};var d=function(){var e=this,t=e._self._c;return t("auth-layout",[t("div",{staticClass:"pa-7 pa-sm-12"},[t("v-row",{},[t("v-col",{staticClass:"col-lg-9 col-xl-6 col-12"},[t("div",{staticClass:"d-flex align-center text-decoration-none mr-2 router-link-exact-active router-link-active",attrs:{"aria-current":"page"}},[t("inertia-link",{attrs:{href:e.route("home")}},[t("v-avatar",{attrs:{color:"white",size:"90"}},[t("v-img",{attrs:{cover:"",src:e.logo,alt:"logo"}})],1)],1)],1),t("h2",{staticClass:"font-weight-bold mt-4 blue-grey--text text--darken-2"},[e._v(" Ingresar ")]),t("h6",{staticClass:"subtitle-1 mb-2"},[e._v(" \xBFNo tienes cuenta? "),t("inertia-link",{attrs:{href:e.route("auth.user.activation")}},[e._v(" activaci\xF3n de usuario ")])],1),t("v-form",{ref:"form",attrs:{novalidate:"novalidate"},on:{submit:function(s){return s.preventDefault(),e.login.apply(null,arguments)}},model:{value:e.valid,callback:function(s){e.valid=s},expression:"valid"}},[e.getErrors("email")?t("v-alert",{attrs:{text:"",prominent:"",type:"error",icon:"mdi-alert",dismissible:""}},[e._v(" "+e._s(this.text)+" ")]):e._e(),t("v-text-field",{attrs:{dense:"",label:"E-mail",clearable:"",outlined:"",rules:[e.emailRules.required,e.emailRules.valid]},on:{change:function(s){e.isValid=!0}},model:{value:e.form.email,callback:function(s){e.$set(e.form,"email",s)},expression:"form.email"}}),t("v-text-field",{attrs:{dense:"","append-icon":e.show?"mdi-eye":"mdi-eye-off",rules:[e.passwordRules.required,e.passwordRules.min],type:e.show?"text":"password",label:"password",outlined:"",hint:"At least 8 characters",name:"password",required:"",autocomplete:"new-password"},on:{"click:append":function(s){e.show=!e.show},keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.submit.apply(null,arguments)}},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}}),t("div",{staticClass:"d-block d-sm-flex align-center mb-4 mb-sm-0"},[t("v-checkbox",{attrs:{label:"Recuerdame"},model:{value:e.form.remember,callback:function(s){e.$set(e.form,"remember",s)},expression:"form.remember"}}),t("div",{staticClass:"ml-auto"},[t("inertia-link",{attrs:{href:e.route("password.request")}},[e._v(" Olvid\xE9 mi contrase\xF1a ")])],1)],1),t("v-btn",{staticClass:"mr-4 mb-4 primary",attrs:{block:"",contained:"",disabled:!e.valid},on:{click:e.submit}},[e._v(" Ingresar ")])],1)],1)],1)],1),t("spinner-component",{attrs:{value:e.overlay,color:"primary",opacity:.9}})],1)},u=[],f=m(c,d,u,!1,null,"751e07aa",null,null);const y=f.exports;export{y as default};
