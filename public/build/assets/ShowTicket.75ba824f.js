import{d as r}from"./app.1e841923.js";import{A as o}from"./AppLayout.dbd769dd.js";import{B as n}from"./BreadCrumbs.14245490.js";import{Q as c}from"./qrcode.vue.esm.d2f69042.js";import{S as l}from"./SpinnerComponent.6d0b39d4.js";import{l as d}from"./Logo.5a18e3f9.js";import{n as m}from"./_plugin-vue2_normalizer.358ffe07.js";import"./Footer.e9279ddd.js";import"./logo-ceindetec.0997e866.js";import"./SettingsDropdown.da80baee.js";const u=r({name:"Show",props:["ticket"],components:{QrcodeVue:c,BreadCrumbs:n,AppLayout:o,SpinnerComponent:l,logo:d},data(){return{links:[{text:"Dashboard",disabled:!1,href:"/dashboard"},{text:"Tickets",disabled:!1,href:"/dashboard/ticket"},{text:"Ver Ticket",disabled:!0,href:""}],sticky:!1,userName:null,establishments:[],headquarters:[],categories:[],messages:[{type:"incoming",text:"Hola, \xBFc\xF3mo est\xE1s?",timestamp:"2023-06-02 16:29:23"},{type:"outgoing",text:"\xA1Hola! Estoy bien, gracias.",timestamp:"2023-06-02 16:30:15"},{type:"incoming",text:"\xBFQu\xE9 planes tienes para hoy?",timestamp:"2023-06-02 16:31:10"},{type:"outgoing",text:"No tengo planes espec\xEDficos, \xBFtienes alguna sugerencia?",timestamp:"2023-06-02 16:32:05"}]}},computed:{getUserName:function(){try{return this.getUserNameFromId(this.ticket.user_id),this.userName.data}catch{}}},created(){axios.get("/dashboard/establishment/all").then(a=>{console.log(a.data),this.establishments=a.data}),axios.get("/dashboard/headquarters/all").then(a=>{console.log(a.data),this.headquarters=a.data}),axios.get("/dashboard/ticket-category/all").then(a=>{this.categories=a.data})},methods:{getColor(a){switch(a){case"Alta":return"error";case"Media":return"warning";case"Baja":return"success";default:return"primary"}},getEstablishment(a){try{return this.establishments.find(e=>e.id===a).name}catch{return null}},getHeadquarters(a){console.log(a);try{return this.headquarters.find(e=>e.id===a).name}catch{return null}},getCategoryById:function(a){const t=this.categories.find(e=>e.id===a);return t?t.name:"Categor\xEDa no encontrada"},async getUserNameFromId(a){this.userName=await axios.get(`/user/by/${a}`)},getDate(a){try{const t=new Date(a),e={weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("es-ES",e)}catch(t){console.log(t)}}}});var g=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("app-layout",[e("bread-crumbs",{attrs:{items:t.links,name:"Informaci\xF3n de Ticket"}}),e("v-container",[e("v-card",{staticClass:"ma-2"},[e("v-system-bar"),e("div",{staticClass:"d-flex justify-space-around mt-2"},[e("logo",{attrs:{light:!1,tile:!0,width:100,color:"primary"}}),e("logo",{attrs:{light:!1,tile:!0,width:100,color:"primary",src:"logoAlcaldia"}})],1),e("v-card-title",{staticClass:"d-flex justify-space-around pt-1 pb-0 mb-0"},[e("v-row",[e("v-col",[e("div",[e("v-list-item",{attrs:{"three-line":""}},[e("v-list-item-content",{staticClass:"text-center"},[e("div",{staticClass:"text-overline mb-1"},[t._v(" "+t._s(t.ticket.line)+" ")]),e("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v(" "+t._s(t.ticket.title)+" ")]),e("v-list-item-subtitle",{domProps:{innerHTML:t._s(t.ticket.message)}})],1)],1)],1)])],1)],1),e("v-container",[e("div",{staticClass:"d-flex justify-space-around mb-6"},[e("div",[e("div",[t._v(" Establecimiento: "),e("span",{staticClass:"font-weight-black text--primary"},[t._v(" "+t._s(t.getEstablishment(t.ticket.establishment_id))+" ")])]),e("div",[t._v(" Sede: "),e("span",{staticClass:"font-weight-black text--primary"},[t._v(" "+t._s(t.getHeadquarters(t.ticket.headquarter_id))+" ")])]),e("div",[t._v(" Usuario responsable: "),e("span",{staticClass:"font-weight-black text--primary"},[t._v(" "+t._s(t.getUserName)+" ")])]),e("div",[t._v(" Categor\xEDa: "),e("span",{staticClass:"font-weight-black text--primary"},[t._v(" "+t._s(t.getCategoryById(t.ticket.category_id))+" ")])]),e("div",[t._v(" Prioridad: "),e("span",{staticClass:"font-weight-black text--primary"},[t._v(" "+t._s(t.ticket.priority)+" ")])]),e("div",[t._v(" Estado: "),e("span",{staticClass:"font-weight-black text--primary"},[t._v(" "+t._s(t.ticket.status)+" ")])]),e("div",[t._v(" Publicado en: "),e("span",{staticClass:"font-weight-black text--primary"},[t._v(" "+t._s(t.getDate(t.ticket.published_at))+" ")])])]),e("div",{staticClass:"d-flex justify-center align-center"},[e("v-card",{attrs:{"aspect-ratio":1,outlined:"",width:"180"}},[e("v-card-text",{staticClass:"pa-3 flex-grow-1"},[e("div",{staticClass:"d-flex align-center flex-column"},[e("v-avatar",{attrs:{color:"",size:"150",tile:""}},[e("qrcode-vue",{attrs:{size:150,value:"https://ceindetecguajira.com",level:"H"}})],1)],1)])],1)],1)])]),e("v-banner",{attrs:{"single-line":""},scopedSlots:t._u([{key:"actions",fn:function(){return[e("v-btn",{attrs:{color:"primary"}},[e("v-icon",[t._v("mdi-plus")]),t._v(" Responder ")],1)]},proxy:!0}])}),e("v-card-text",{staticClass:"grey lighten-4"},[e("v-sheet",{staticClass:"mx-auto",attrs:{height:"300","max-width":"800"}},[[e("v-container",{attrs:{fluid:""}},[e("v-row",[e("v-col",{attrs:{cols:"12"}},t._l(t.messages,function(s,i){return e("v-card",{key:i,staticClass:"message-card",class:s.type==="incoming"?"incoming":"outgoing"},[e("v-card-text",[e("div",{staticClass:"message-content"},[e("div",{staticClass:"message-text"},[t._v(" "+t._s(s.text)+" ")]),e("div",{staticClass:"message-timestamp"},[t._v(" "+t._s(s.timestamp)+" ")])])])],1)}),1)],1)],1)]],2)],1)],1)],1)],1)},p=[],v=m(u,g,p,!1,null,null,null,null);const q=v.exports;export{q as default};
