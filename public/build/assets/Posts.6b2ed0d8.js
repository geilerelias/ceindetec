import{A as o}from"./AppLayout.83401602.js";import{B as r}from"./BreadCrumbs.14245490.js";import{n}from"./_plugin-vue2_normalizer.358ffe07.js";import"./Footer.c2e27410.js";import"./app.8bbe0a1c.js";import"./logo-ceindetec.0997e866.js";import"./Logo.5a18e3f9.js";import"./SettingsDropdown.da80baee.js";const l={components:{AppLayout:o,BreadCrumbs:r},props:["data","errors"],data(){return{editMode:!1,isOpen:!1,search:"",form:{title:null,body:null},headers:[{text:"Id",align:"start",sortable:!1,value:"id"},{text:"Title",value:"title"},{text:"Body",value:"body"},{text:"Actions",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{name:""},defaultItem:{name:""},items:[{text:"Dashboard",disabled:!1,href:"breadcrumbs_dashboard"},{text:"Link 1",disabled:!1,href:"breadcrumbs_link_1"},{text:"Link 2",disabled:!0,href:"breadcrumbs_link_2"}]}},methods:{openModal:function(){this.isOpen=!0},closeModal:function(){this.isOpen=!1,this.reset(),this.editMode=!1},reset:function(){this.form={title:null,body:null}},save:function(i){this.$inertia.post("/posts",i,{onSuccess:t=>{this.$swal("Good job!",this.$page.flash.message,"success"),this.reset(),this.closeModal(),this.editMode=!1},onError:t=>{this.reset(),this.closeModal(),this.editMode=!1},onFinish:t=>{this.reset(),this.closeModal(),this.editMode=!1}})},edit:function(i){this.form=Object.assign({},i),this.editMode=!0,this.openModal()},update:function(i){i._method="PUT",this.$inertia.post("/posts/"+i.id,i,{onSuccess:t=>{this.$swal("Good job!","updated post successfully!","success"),this.reset(),this.closeModal()},onError:t=>{this.reset(),this.closeModal()},onFinish:t=>{this.reset(),this.closeModal()}})},deleteRow:function(i){this.$swal({title:"Are you sure?",text:"this option cannot be reversed.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&(i._method="DELETE",this.$inertia.post("/posts/"+i.id,i),this.reset(),this.closeModal(),this.$swal("Deleted!","Your post has been deleted.","success"))})},initialize(){}}};var d=function(){var t=this,e=t._self._c;return e("app-layout",[e("bread-crumbs",{attrs:{name:"Posts",items:t.items}}),e("v-container",{staticClass:"py-12"},[e("v-row",{staticClass:"ma-0"},[e("v-col",[e("v-card",{staticStyle:{width:"100%"}},[e("v-card-text",{},[e("v-row",{staticClass:"no-gutters"},[e("div",{staticClass:"d-flex justify-space-between justify-md-start col-md-6 col-12"},[e("v-btn",{staticClass:"mr-3 success",on:{click:function(s){t.isOpen=!t.isOpen}}},[e("v-icon",{staticClass:"notranslate mr-2"},[t._v(" mdi-plus ")]),t._v(" Add ")],1),e("v-btn",{staticClass:"button-shadow primary--text",attrs:{outlined:""}},[e("v-icon",{staticClass:"notranslate mr-2",attrs:{"aria-hidden":"true"}},[t._v(" mdi-filter-variant ")]),t._v(" Filters ")],1)],1),e("v-spacer"),e("div",{staticClass:"mx-auto mt-4 mt-md-0",staticStyle:{"max-width":"250px"}},[e("v-text-field",{attrs:{"hide-details":"",dense:"",enclosed:"",outlined:"","append-icon":"mdi-magnify",placeholder:"search"},model:{value:t.search,callback:function(s){t.search=s},expression:"search"}})],1)],1)],1)],1)],1)],1),e("v-row",{staticClass:"ma-0"},[e("v-col",[e("v-card",{staticStyle:{width:"100%"}},[e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.data,"sort-by":"calories",search:t.search},scopedSlots:t._u([{key:"item.actions",fn:function({item:s}){return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.edit(s)}}},[t._v(" mdi-pencil-outline ")]),e("v-icon",{attrs:{small:""},on:{click:function(a){return t.deleteRow(s)}}},[t._v(" mdi-delete-outline ")])]}},{key:"no-data",fn:function(){return[e("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Reset ")])]},proxy:!0}])})],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"800"},model:{value:t.isOpen,callback:function(s){t.isOpen=s},expression:"isOpen"}},[e("v-card",{staticClass:"pa-6"},[e("v-card-text",[e("v-text-field",{attrs:{counter:10,label:"Title",required:""},model:{value:t.form.title,callback:function(s){t.$set(t.form,"title",s)},expression:"form.title"}}),t.$page.errors.title?e("div",{staticClass:"text-red-500"},[t._v(t._s(t.$page.errors.title[0])+" ")]):t._e(),e("v-textarea",{attrs:{label:"Body",required:""},model:{value:t.form.body,callback:function(s){t.$set(t.form,"body",s)},expression:"form.body"}}),t.$page.errors.body?e("div",{staticClass:"text-red-500"},[t._v(t._s(t.$page.errors.body[0])+" ")]):t._e(),e("div",{staticClass:"d-flex justify-end"},[e("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.editMode,expression:"!editMode"}],staticClass:"primary mx-1",attrs:{"wire:click.prevent":"store()",type:"button",dark:""},on:{click:function(s){return t.save(t.form)}}},[t._v(" Save ")]),e("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.editMode,expression:"editMode"}],staticClass:"primary x-1",attrs:{"wire:click.prevent":"store()",type:"button",dark:""},on:{click:function(s){return t.update(t.form)}}},[t._v(" Update ")]),e("v-btn",{staticClass:"secondary mx-1",attrs:{type:"button",dark:""},on:{click:function(s){return t.closeModal()}}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)},c=[],u=n(l,d,c,!1,null,null,null,null);const y=u.exports;export{y as default};
