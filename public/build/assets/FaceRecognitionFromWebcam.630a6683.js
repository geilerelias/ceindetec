import{l as r,a as c,b as l,c as d,e as u,m,r as v,f as p,g as _,h as f}from"./resizeResults.444d9345.js";import{n as o}from"./_plugin-vue2_normalizer.358ffe07.js";const n={mdi:{size:24,viewbox:"0 0 24 24"},"simple-icons":{size:24,viewbox:"0 0 24 24"},default:{size:0,viewbox:"0 0 0 0"}},h={name:"icon",props:{type:String,path:{type:String,required:!0},size:{type:[String,Number],default:24},viewbox:String,flip:{type:String,validator:s=>["horizontal","vertical","both","none"].includes(s)},rotate:{type:Number,default:0}},computed:{styles(){return{"--sx":["both","horizontal"].includes(this.flip)?"-1":"1","--sy":["both","vertical"].includes(this.flip)?"-1":"1","--r":isNaN(this.rotate)?this.rotate:this.rotate+"deg"}},defaults(){return n[this.type]||n.default},sizeValue(){return this.size||this.defaults.size},viewboxValue(){return this.viewbox||this.defaults.viewbox}}};var g=function(){var e=this,t=e._self._c;return t("svg",{style:e.styles,attrs:{width:e.sizeValue,height:e.sizeValue,viewBox:e.viewboxValue}},[t("path",{attrs:{d:e.path}})])},y=[],b=o(h,g,y,!1,null,"76aa6b74",null,null);const w=b.exports;var x="M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z";const V={components:{SvgIcon:w},data(){return{isStreaming:!1,path:x}},async mounted(){let s="/models/";await r(s),await c(s),await l(s),await d(s)},methods:{async onPlay(){const s=this.$refs.inputVideo,e=this.$refs.canvasVideo;let t=await u(s).withFaceLandmarks().withFaceDescriptors().withFaceExpressions();const a=m(e,s,!0),i=v(t,a);p(e,i),_(e,i),f(e,i,.05),setTimeout(()=>this.onPlay(),100)},async startVideo(){let s=this.$refs.inputVideo;if(navigator.mediaDevices.getUserMedia)try{this.isStreaming=!0,s.srcObject=await navigator.mediaDevices.getUserMedia({video:!0})}catch(e){console.log(e),this.isStreaming=!1}},stopVideo(){const s=this.$refs.inputVideo;s.srcObject.getTracks().forEach(function(a){a.stop()}),s.srcObject=null,this.isStreaming=!1}}};var S=function(){var e=this,t=e._self._c;return t("div",[t("h1",{staticClass:"text-uppercase"},[e._v("Face Recognition from webcam")]),t("v-divider",{staticClass:"my-2"}),e.isStreaming?e._e():t("div"),t("div",{staticClass:"d-flex justify-center align-center mb-2 rounded-lg",class:{"d-none":!e.isStreaming},staticStyle:{position:"relative","min-width":"640px"}},[t("video",{ref:"inputVideo",staticClass:"rounded mx-auto elevation-6",staticStyle:{"z-index":"1"},attrs:{id:"inputVideo",autoplay:"",muted:"",playsinline:""},domProps:{muted:!0},on:{loadedmetadata:function(a){return e.onPlay()}}}),t("canvas",{ref:"canvasVideo",staticStyle:{position:"absolute",left:"0",right:"0",margin:"auto","z-index":"20"},attrs:{id:"canvasVideo"}})]),t("v-row",[t("v-col",{staticClass:"d-flex justify-center align-center justify-around"},[t("v-btn",{staticClass:"primary mr-2",attrs:{disabled:e.isStreaming},on:{click:e.startVideo}},[e._v("Start Video")]),t("v-btn",{staticClass:"secondary",attrs:{disabled:!e.isStreaming},on:{click:e.stopVideo}},[e._v("Stop Video")])],1)],1)],1)},F=[],z=o(V,S,F,!1,null,"03ec6183",null,null);const C=z.exports;export{C as default};
