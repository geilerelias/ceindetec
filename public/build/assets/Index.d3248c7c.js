import{A as s}from"./AppLayout.dbd769dd.js";import{B as o}from"./BreadCrumbs.14245490.js";import{n}from"./_plugin-vue2_normalizer.358ffe07.js";import"./Footer.e9279ddd.js";import"./app.1e841923.js";import"./logo-ceindetec.0997e866.js";import"./Logo.5a18e3f9.js";import"./SettingsDropdown.da80baee.js";const c={name:"Index",components:{BreadCrumbs:o,AppLayout:s},props:["tickets"],data:()=>({headers:[{text:"T\xEDtulo",value:"title"},{text:"Usuario",value:"user_id"},{text:"Categor\xEDa",value:"category_id"},{text:"Prioridad",value:"priority"},{text:"Mensaje",value:"message"},{text:"Estado",value:"status"},{text:"Acciones",value:"actions"}],search:"",pagination:{},loading:!1,selectedItem:1,items:[{text:"Error en red",icon:"mdi-tag"},{text:"Inconveniente con el cargue de archivo",icon:"mdi-tag"},{text:"No puedo registrar estudiantes",icon:"mdi-tag"}],links:[{text:"Dashboard",disabled:!1,href:"/dashboard"},{text:"Tickets",disabled:!0,href:"/dashboard/ticket"}],categories:[]}),mounted(){axios.get(route("ticket-category.all")).then(r=>{this.categories=r.data}).catch(r=>r)},methods:{getPriorityColor(r){switch(r){case"Alta":return"red";case"Media":return"orange";case"Baja":return"green";default:return"grey"}},getPriorityIcon(r){switch(r){case"alta":return"mdi-flag-outline";case"media":return"mdi-flag-triangle";case"baja":return"mdi-flag-checkered";default:return"mdi-flag"}},getStatusColor(r){switch(r){case"Active":return"green";case"cerrado":return"red";default:return"grey"}},editTicket(r){},deleteTicket(r){},getItems(){this.$inertia.get(route("ticket.index"),{onSuccess:r=>{this.tickets=r},onError:r=>{console.error(r)}})},onPageChange(r){this.currentPage=r,this.getItems()},getCategoryById(r){try{return this.categories.find(e=>e.id===r).name}catch{}},getUserById(r){axios.get("/user/by/"+r).then(t=>(console.log(t.data),t.data.name)).catch(t=>{console.error(t)})}}};var d=function(){var t=this,e=t._self._c;return e("app-layout",[e("bread-crumbs",{attrs:{items:t.links,name:"Mis Tickets de Soporte"}}),e("v-container",[e("v-card",{staticStyle:{width:"100%"}},[e("v-card-text",{},[e("v-row",{staticClass:"no-gutters"},[e("div",{staticClass:"d-flex justify-space-between justify-md-start col-md-6 col-12"},[e("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.$inertia.visit(t.route("ticket.create"))}}},[e("v-icon",{staticClass:"notranslate mr-2"},[t._v(" mdi-plus ")]),t._v(" Agregar ")],1)],1),e("v-spacer"),e("div",{staticClass:"mx-auto mt-4 mt-md-0",staticStyle:{"max-width":"250px"}},[e("v-text-field",{attrs:{"append-icon":"mdi-magnify",dense:"",enclosed:"","hide-details":"",outlined:"",placeholder:"Buscar"},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1)],1)],1)],1),e("v-card",{staticClass:"mt-4"},[e("v-card-text",[e("v-data-table",{attrs:{headers:t.headers,items:t.tickets,loading:t.loading,search:t.search},scopedSlots:t._u([{key:"item.priority",fn:function({item:a}){return[e("v-chip",{attrs:{color:t.getPriorityColor(a.priority),dark:""}},[t._v(t._s(a.priority)+" ")]),e("v-icon",{attrs:{color:t.getPriorityColor(a.priority)}},[t._v(t._s(t.getPriorityIcon(a.priority))+" ")])]}},{key:"item.user_id",fn:function({item:a}){return[t._v(" "+t._s(t.getUserById(a.user_id))+" ")]}},{key:"item.category_id",fn:function({item:a}){return[t._v(" "+t._s(t.getCategoryById(a.category_id))+" ")]}},{key:"item.status",fn:function({item:a}){return[e("v-chip",{attrs:{color:t.getStatusColor(a.status),dark:""}},[t._v(t._s(a.status)+" ")])]}},{key:"item.message",fn:function({item:a}){return[e("div",{domProps:{innerHTML:t._s(a.message)}})]}},{key:"item.actions",fn:function({item:a}){return[e("v-btn",{attrs:{small:"",text:""},on:{click:function(i){return t.editTicket(a)}}},[t._v("Editar ")]),e("v-btn",{attrs:{small:"",text:""},on:{click:function(i){return t.deleteTicket(a)}}},[t._v("Eliminar ")])]}}])})],1)],1)],1)],1)},l=[],u=n(c,d,l,!1,null,"d0cc21e5",null,null);const x=u.exports;export{x as default};
