import{l as n,a as o,b as l,c,d as r,e as d,m,r as p,f as u,g as f,h as v}from"./resizeResults.444d9345.js";import{b as g}from"./bufferToImage.93eb654c.js";import{n as _}from"./_plugin-vue2_normalizer.358ffe07.js";const h={data(){return{email:"",password:"",faceToken:"",imagePreview:""}},async mounted(){let a="/models/";await n(a),await o(a),await l(a),await c(a)},methods:{async upload(a){const e=a;this.previewImage(e);const t=await g(e),s=await r(t).withFaceLandmarks().withFaceDescriptor();s?(this.faceToken=s.descriptor.join(","),console.log("Face detected")):(this.faceToken="",console.log("Face not detected"))},clearCanvas(){var a=document.getElementById("mi-canvas"),e=a.getContext("2d");e.fillRect(0,0,a.width,a.height),e.clearRect(0,0,a.width,a.height)},previewImage(a){const e=new FileReader;e.onload=()=>{this.imagePreview=e.result,this.clearCanvas()},e.readAsDataURL(a)},async detectFaces(){const a=this.$refs.image,e=this.$refs.canvas;console.log(a);let t=await d(a).withFaceLandmarks().withFaceDescriptors().withFaceExpressions();const s=m(e,a,!0),i=p(t,s);u(e,i),f(e,i),v(e,i,.05)},async submit(){const a={email:this.email,face_token:this.faceToken};alert("this is la respuesta",a.email,a.face_token),a.status===200?console.log("Login successfull"):console.log("Login failed")}}};var w=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Image Recognition from File")]),e.imagePreview?t("div",{staticClass:"text-center d-flex justify-center align-center mb-2",staticStyle:{position:"relative"}},[t("img",{ref:"image",staticClass:"mx-auto",attrs:{src:e.imagePreview,alt:""}}),t("canvas",{ref:"canvas",staticStyle:{position:"absolute",left:"0",right:"0",margin:"auto"},attrs:{id:"mi-canvas"}})]):e._e(),t("form",{on:{submit:function(s){return s.preventDefault(),e.submit.apply(null,arguments)}}},[t("v-file-input",{attrs:{"prepend-icon":null,accept:"image/*","full-width":"",label:"select image",outlined:"","prepend-inner-icon":"mdi-paperclip",type:"file"},on:{change:e.upload},scopedSlots:e._u([{key:"selection",fn:function({text:s}){return[t("v-chip",{attrs:{color:"primary",label:"",small:""}},[e._v(" "+e._s(s)+" ")])]}}])}),t("v-text-field",{attrs:{label:"Email",outlined:"",placeholder:"Email",type:"text"},model:{value:e.email,callback:function(s){e.email=s},expression:"email"}}),t("v-text-field",{attrs:{label:"Password",outlined:"",placeholder:"Password",type:"password"},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),t("v-btn",{staticClass:"mr-1 primary",attrs:{type:"submit"}},[e._v("Login")]),t("v-btn",{staticClass:"secondary",attrs:{type:"button"},on:{click:function(s){return e.detectFaces()}}},[e._v("Detectar")])],1)])},F=[],b=_(h,w,F,!1,null,"adb23370",null,null);const R=b.exports;export{R as default};
